<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Forum</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💬</text></svg>">
</head>
<body>
  <header class="topbar">
    <div class="brand">Mini Forum</div>
    <div class="search">
      <input id="searchInput" placeholder="搜索用户或帖子…" />
    </div>
    <nav class="topnav">
      <button id="btnHome" class="nav-btn active" data-view="home">首页</button>
      <button id="btnFollowing" class="nav-btn" data-view="following">关注</button>
      <button id="btnNewPost" class="primary">发帖</button>
      <button id="btnProfile" class="nav-btn" data-view="me">我的</button>
      <button id="btnAuth" class="secondary">登录/注册</button>
      <button id="btnLogout" class="danger hidden">退出</button>
    </nav>
  </header>

  <main id="app">
    <!-- Feed -->
    <section id="feedView" class="view"></section>

    <!-- Profile -->
    <section id="profileView" class="view hidden"></section>

    <!-- Post Detail -->
    <section id="postDetailView" class="view hidden"></section>
  </main>

  <!-- 发帖弹窗 -->
  <dialog id="postDialog">
    <form method="dialog" class="dialog">
      <h3>发表新帖子</h3>
      <textarea id="postText" maxlength="500" placeholder="分享点什么吧（最多 500 字）"></textarea>
      <div class="images">
        <input type="file" id="postImg1" accept="image/*" />
        <input type="file" id="postImg2" accept="image/*" />
        <input type="file" id="postImg3" accept="image/*" />
      </div>
      <menu>
        <button value="cancel">取消</button>
        <button id="postSubmit" value="confirm" class="primary">发布</button>
      </menu>
    </form>
  </dialog>

  <!-- 登录/注册弹窗 -->
  <dialog id="authDialog">
    <form method="dialog" class="dialog tabs">
      <div class="tabbar">
        <button type="button" class="tab active" data-tab="login">账号登录</button>
        <button type="button" class="tab" data-tab="phone">手机登录</button>
        <button type="button" class="tab" data-tab="signup">注册</button>
      </div>

      <div class="tabpanel active" data-panel="login">
        <label>账号/手机号
          <input id="loginAccount" autocomplete="username" />
        </label>
        <label>密码
          <input id="loginPassword" type="password" autocomplete="current-password" />
        </label>
        <menu>
          <button value="cancel">取消</button>
          <button id="btnLogin" class="primary">登录</button>
        </menu>
      </div>

      <div class="tabpanel" data-panel="phone">
        <label>手机号
          <input id="phoneLoginNumber" placeholder="+86 1xxxxxxxxxx" />
        </label>
        <div class="otp-line">
          <label>验证码
            <input id="phoneLoginCode" inputmode="numeric" maxlength="6" />
          </label>
          <button id="btnSendOtpLogin" type="button" class="secondary">获取验证码</button>
        </div>
        <menu>
          <button value="cancel">取消</button>
          <button id="btnPhoneLogin" class="primary">登录</button>
        </menu>
      </div>

      <div class="tabpanel" data-panel="signup">
        <label>手机号
          <input id="signupPhone" placeholder="+86 1xxxxxxxxxx" />
        </label>
        <div class="otp-line">
          <label>验证码
            <input id="signupCode" inputmode="numeric" maxlength="6" />
          </label>
          <button id="btnSendOtpSignup" type="button" class="secondary">获取验证码</button>
        </div>
        <label>昵称
          <input id="signupNickname" maxlength="30" />
        </label>
        <label>密码
          <input id="signupPassword" type="password" autocomplete="new-password" />
        </label>
        <menu>
          <button value="cancel">取消</button>
          <button id="btnSignup" class="primary">注册并登录</button>
        </menu>
      </div>
    </form>
  </dialog>

  <!-- 全局 toast -->
  <div id="toast" class="toast"></div>

  <script src="main.js"></script>
</body>
</html>
